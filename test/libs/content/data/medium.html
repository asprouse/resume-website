<!DOCTYPE html><html xmlns:cc="http://creativecommons.org/ns#"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# medium-com: http://ogp.me/ns/fb/medium-com#"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>React Components, Elements, and Instances — Medium</title><link rel="canonical" href="https://medium.com/@dan_abramov/react-components-elements-and-instances-90800811f8ca"><meta name="title" content="React Components, Elements, and Instances"><meta name="referrer" content="always"><meta name="description" content="Many people get confused by the difference between components, their instances, and elements in React. Why are there thr…"><meta property="og:site_name" content="Medium"><meta property="og:title" content="React Components, Elements, and Instances"><meta property="og:url" content="https://medium.com/@dan_abramov/react-components-elements-and-instances-90800811f8ca"><meta property="og:image" content="https://cdn-images-1.medium.com/max/800/1*4ETgx0WkR3WjYU2eC0p3Ew.jpeg"><meta property="fb:app_id" content="542599432471018"><meta property="og:description" content="Many people get confused by the difference between components, their instances, and elements in React. Why are there thr…"><meta name="twitter:site" content="@Medium"><meta name="twitter:image:src" content="https://cdn-images-1.medium.com/max/800/1*4ETgx0WkR3WjYU2eC0p3Ew.jpeg"><link rel="publisher" href="https://plus.google.com/103654360130207659246"><link rel="author" href="https://medium.com/@dan_abramov"><meta name="author" content="Dan Abramov"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta property="article:publisher" content="https://www.facebook.com/medium"><meta property="article:author" content="https://medium.com/@dan_abramov"><meta property="fb:smart_publish:robots" content="noauto"><meta property="article:published_time" content="2015-12-14T18:28:45.641Z"><meta name="twitter:creator" content="@dan_abramov"><meta name="twitter:label1" value="Reading time"><meta name="twitter:data1" value="7 mins"><meta name="twitter:app:name:iphone" content="Medium"><meta name="twitter:app:id:iphone" content="828256236"><meta name="twitter:app:url:iphone" content="medium:/p/90800811f8ca"><meta property="al:ios:app_name" content="Medium"><meta property="al:ios:app_store_id" content="828256236"><meta property="al:android:package" content="com.medium.reader"><meta property="al:android:app_name" content="Medium"><meta property="al:ios:url" content="medium:/p/90800811f8ca"><meta property="al:android:url" content="medium://p/90800811f8ca"><meta property="al:web:url" content="https://medium.com/@dan_abramov/react-components-elements-and-instances-90800811f8ca"><link rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/90800811f8ca" /><meta name="theme-color" content="#000000"><link rel="stylesheet" type="text/css" href="https://cdn-static-1.medium.com/_/fp/css/fonts-base.LqXl5T9RMAR39Ge23ku50w.css" /><link rel="stylesheet" href="https://cdn-static-1.medium.com/_/fp/css/main-base.CSrh8kdtxzkmlom7jD9RtA.css"><script>if (window.top !== window.self) window.top.location = window.self.location.href;var OB_startTime = new Date().getTime(); var OB_loadErrors = []; function _onerror(e) { OB_loadErrors.push(e) }; if (document.addEventListener) document.addEventListener("error", _onerror, true); else if (document.attachEvent) document.attachEvent("onerror", _onerror); function _asyncScript(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("script"); s.type = "text/javascript"; s.async = true; s.src = u; f.parentNode.insertBefore(s, f);}function _asyncStyles(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("link"); s.rel = "stylesheet"; s.href = u; f.parentNode.insertBefore(s, f); return s}var _gaq = _gaq || []; _gaq.push(["_setAccount", "UA-24232453-2"]); _gaq.push(["_setDomainName", window.location.hostname]); _gaq.push(["_setAllowLinker", true]); _gaq.push(["_trackPageview"]); _asyncScript(("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js");(new Image()).src = "/_/stat?event=pixel.load&origin=" + encodeURIComponent(location.origin);</script><!--[if lt IE 9]><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js"></script><![endif]--><link rel="shortcut icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-new.TAS6uQ-Y7kcKgi0xjcYHXw.ico"><link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-ipad-retina.png"><link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-iphone-retina.png"><link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-ipad.png"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="mask-icon" href="/favicon.svg" color="#171717"></head><body itemscope itemtype="http://schema.org/Article" class=" template-flex-article browser-chrome os-mac is-withMagicUnderlines is-noJs"><script>document.body.className = document.body.className.replace(/(^|\s)is-noJs(\s|$)/, "$1is-js$2")</script><div class="site-main" id="container"><div class="butterBar butterBar--error"></div><div class="surface"><div id="prerendered" class="screenContent"><canvas class="canvas-renderer"></canvas><nav class="metabar u-clearfix js-metabar metabar--top metabar--postArticle"><div class="metabar-block metabar-left u-floatLeft"><a href="https://medium.com/" class="siteNav-logo" data-log-event="home"><svg viewBox="0 0 45 45" width="45" height="45" class="svgIcon svgIcon--logoNew svgIcon-size--45px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-logoNew-45px-p0"></use><use class="svgIcon-use svgIcon-use--part1" xlink:href="#svg-logoNew-45px-p1"></use><use class="svgIcon-use svgIcon-use--part2" xlink:href="#svg-logoNew-45px-p2"></use><use class="svgIcon-use svgIcon-use--part3" xlink:href="#svg-logoNew-45px-p3"></use></svg><span class="u-textScreenReader">Homepage</span></a></div><div class="metabar-block metabar-right u-floatRight"><div class="buttonSet"></div><div class="inputGroup u-sm-hide metabar-predictiveSearch"><button class="button button--chromeless button--inline button--withIcon is-inSiteNavBar button--withSvgIcon"  title="Click to start typing a search term" aria-label="Click to start typing a search term" data-action="focus-search-input"><svg viewBox="0 0 25 25" width="25" height="25" class="svgIcon svgIcon--search svgIcon-size--25px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-search-25px-p0"></use></svg></button><input class="js-predictiveSearchInput textInput textInput--dark textInput--rounded" type="search" placeholder="Search Medium"></div><div class="buttonSet"><button class="button button--circle button--withChrome button--withIcon is-inSiteNavBar u-showOnTablet button--withSvgIcon"  title="Search" aria-label="Search" data-action="open-search"><svg viewBox="0 0 25 25" width="25" height="25" class="svgIcon svgIcon--search svgIcon-size--25px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-search-25px-p0"></use></svg></button><a class="button button--primary button--withChrome"  href="https://medium.com/m/signin?redirect=https%3A%2F%2Fmedium.com%3A443%2F%40dan_abramov%2Freact-components-elements-and-instances-90800811f8ca"data-action="sign-in-prompt"data-redirect="https://medium.com:443/@dan_abramov/react-components-elements-and-instances-90800811f8ca" data-action-source="nav_signup">Sign in / Sign up</a></div></div></nav><div class="postActionsBar js-postActionsBar"><div class="postActionsBar-container container u-size740"><div class="postActionsBar-content row js-postActionsBarContent"><div class="postActions col u-xs-size12of12"><div class="u-floatLeft buttonSet buttonSet--withLabels"><div class="buttonSet-inner"><div class="js-actionRecommend" data-post-id="90800811f8ca" data-size="29px"><button class="button button--primary button--large button--chromeless button--withIcon button--withSvgIcon"  title="Recommend to share this article with your followers and let the author know you liked it" aria-label="Recommend to share this article with your followers and let the author know you liked it"data-action="sign-in-prompt" data-sign-in-action="upvote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/90800811f8ca"><span class="button-defaultState"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--heart svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-heart-29px-p0"></use></svg></span><span class="button-activeState"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--heartFilled svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-heartFilled-29px-p0"></use></svg></span></button><button class="button button--chromeless"  data-action="show-recommends" data-action-value="90800811f8ca">472</button></div></div><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless button--withIcon button--withSvgIcon"  data-action="scroll-to-responses"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--response svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-response-29px-p0"></use></svg></button><button class="button button--chromeless"  data-action="scroll-to-responses">9</button></div></div><div class="u-floatRight buttonSet"><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless button--withIcon button--withSvgIcon"  data-action="share-on-twitter"value="90800811f8ca"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--twitter svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-twitter-29px-p0"></use></svg></button></div><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless button--withIcon button--withSvgIcon"  data-action="share-on-facebook"value="90800811f8ca"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--facebook svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-facebook-29px-p0"></use></svg></button></div><div class="buttonSet-separator"></div><div class="buttonSet-inner"><a class="link avatar avatar--inline"  href="https://medium.com/@dan_abramov" data-action="show-user-card" data-action-type="hover" data-user-id="a3a8af6addc1" dir="auto"><img src="https://cdn-images-1.medium.com/fit/c/24/24/1*4ETgx0WkR3WjYU2eC0p3Ew.jpeg" class="avatar-image avatar-image--micro" alt="Go to the profile of Dan Abramov"><span class="avatar-text">Dan Abramov</span></a><span class="u-xs-hide"><span class="middotDivider"></span><span class="followState js-followState" data-user-id="a3a8af6addc1"><button class="button button--chromeless u-noUserSelect button--withHover button--unblock js-unblockButton" data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="post_actions_bar"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--chromeless u-noUserSelect button--follow js-followButton"  title="Follow to get new stories and recommendations from this author" aria-label="Follow to get new stories and recommendations from this author"data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/a3a8af6addc1/90800811f8ca" data-action-source="post_actions_bar_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></span></div></div></div></div></div></div><article class="u-sizeViewHeightMin100 postArticle postArticle--full" lang="en"><header class="container is-underMetabar u-size740"><div class="postMetaHeader row u-xs-top10 u-xs-bottom10"><div class="col u-xs-size5of12"><div class="u-floatLeft"><div class="postMetaInline-avatar"><a class="link avatar"  href="https://medium.com/@dan_abramov" data-action="show-user-card" data-action-type="hover" data-user-id="a3a8af6addc1" dir="auto"><img src="https://cdn-images-1.medium.com/fit/c/36/36/1*4ETgx0WkR3WjYU2eC0p3Ew.jpeg" class="avatar-image u-xs-size32x32 u-sm-size36x36" alt="Go to the profile of Dan Abramov"></a></div><div class="postMetaInline-feedSummary"><a class="link link link--darken link--accent"  href="https://medium.com/@dan_abramov" data-action="show-user-card" data-action-type="hover" data-user-id="a3a8af6addc1" dir="auto">Dan Abramov</a><span class="postMetaInline postMetaInline--supplemental">Dec 14, 2015<span class="middotDivider"></span><span class="readingTime">8 min read</span></span></div></div></div><div class="col u-xs-size7of12"><div class="u-floatRight"><div class="postMetaHeader-socialProof"></div></div></div></div></header><main role="main" class="postArticle-content js-postField js-notesSource"><section name="201d" class=" section--body section--first section--last"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner layoutSingleColumn"><h3 name="785d" id="785d" class="graf--h3 graf--first">React Components, Elements, and Instances</h3><p name="e47d" id="e47d" class="graf--p graf-after--h3">Many people get confused by <strong class="markup--strong markup--p-strong">the difference between components, their instances, and elements in React</strong>. Why are there three different terms to refer to something that is painted on screen?</p><p name="468b" id="468b" class="graf--p graf-after--p">If you’re new to React, you probably only worked with component classes and instances before. For example, you may declare a Button<em class="markup--em markup--p-em"> component </em>by creating a class. When the program is running, you may have several <em class="markup--em markup--p-em">instances </em>of this component on screen, each with its own properties and local state. This is the traditional object oriented UI programming. Why introduce <em class="markup--em markup--p-em">elements</em>?</p><p name="45f7" id="45f7" class="graf--p graf-after--p">In this traditional UI model, it is up to you take care of creating and destroying child component instances. If a <em class="markup--em markup--p-em">Form</em> component wants to render a <em class="markup--em markup--p-em">Button</em> component, it needs to create its instance, and manually keep it up to date with any new information.</p><pre name="7c9e" id="7c9e" class="graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">class</strong> Form <strong class="markup--strong markup--pre-strong">extends</strong> TraditionalObjectOrientedView {<br>  render() {<br><em class="markup--em markup--pre-em">    // Read some data passed to the view</em><br>    <strong class="markup--strong markup--pre-strong">const</strong> { isSubmitted, buttonText } = <strong class="markup--strong markup--pre-strong">this</strong>.attrs;</pre><pre name="7deb" id="7deb" class="graf--pre graf-after--pre">    <strong class="markup--strong markup--pre-strong">if</strong> (!isSubmitted &amp;&amp; !<strong class="markup--strong markup--pre-strong">this</strong>.button) {<br>      <em class="markup--em markup--pre-em">// Form is not yet submitted. Create the button!</em><br>      <strong class="markup--strong markup--pre-strong">this</strong>.button = <strong class="markup--strong markup--pre-strong">new</strong> Button({<br>        children: buttonText,<br>        color: &#39;blue&#39;<br>      });<br>      <strong class="markup--strong markup--pre-strong">this</strong>.el.appendChild(<strong class="markup--strong markup--pre-strong">this</strong>.button.el);<br>    }</pre><pre name="46a6" id="46a6" class="graf--pre graf-after--pre">    <strong class="markup--strong markup--pre-strong">if</strong> (<strong class="markup--strong markup--pre-strong">this</strong>.button) {<br><em class="markup--em markup--pre-em">      // The button is visible. Update its text!<br></em>      <strong class="markup--strong markup--pre-strong">this.</strong>button.attrs.children = buttonText;<br>      <strong class="markup--strong markup--pre-strong">this</strong>.button.render();<br>    }</pre><pre name="6eff" id="6eff" class="graf--pre graf-after--pre">    <strong class="markup--strong markup--pre-strong">if</strong> (isSubmitted &amp;&amp; <strong class="markup--strong markup--pre-strong">this</strong>.button) {<br>      <em class="markup--em markup--pre-em">// Form was submitted. Destroy the button!</em><br>      <strong class="markup--strong markup--pre-strong">this</strong>.el.removeChild(<strong class="markup--strong markup--pre-strong">this</strong>.button.el);<br>      <strong class="markup--strong markup--pre-strong">this</strong>.button.destroy();<br>    }</pre><pre name="9541" id="9541" class="graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">    if </strong>(isSubmitted &amp;&amp; !<strong class="markup--strong markup--pre-strong">this</strong>.message) {<br>      <em class="markup--em markup--pre-em">// Form was submitted. Show the success message!</em><br>      <strong class="markup--strong markup--pre-strong">this</strong>.message = <strong class="markup--strong markup--pre-strong">new</strong> Message({ text: &#39;Success!&#39; });<br>      <strong class="markup--strong markup--pre-strong">this</strong>.el.appendChild(<strong class="markup--strong markup--pre-strong">this</strong>.message.el);<br>    }<br>  }<br>}</pre><p name="c367" id="c367" class="graf--p graf-after--pre">This is pseudocode, but this is more or less what you end up with when you try to write composable UI that behaves consistently in an object oriented way with a framework like Backbone.</p><p name="de5a" id="de5a" class="graf--p graf-after--p">Each component has to keep references to its DOM node and to the instances of the children components, and create, update, and destroy them when the time is right. The lines of code grow as the square of the number of possible states of the component, and the parents have direct access to their children component instances, making it hard to decouple them in the future.</p><p name="9aec" id="9aec" class="graf--p graf-after--p">Now let’s talk about React.</p><p name="1053" id="1053" class="graf--p graf-after--p">In React, this is where the <em class="markup--em markup--p-em">elements</em> come to rescue. <strong class="markup--strong markup--p-strong">An element is a plain object <em class="markup--em markup--p-em">describing</em> a component instance or DOM node and its desired properties. </strong>It contains only information about the component type (for example, a <em class="markup--em markup--p-em">Button</em>), its properties (for example, its <em class="markup--em markup--p-em">color</em>), and any child elements inside it.</p><p name="ce4c" id="ce4c" class="graf--p graf-after--p">An element is not an actual instance. Rather, it is a way to tell React what you <em class="markup--em markup--p-em">want</em> to see on the screen. You can’t call any methods on the element. It’s just an immutable description object with two fields: <strong class="markup--strong markup--p-strong">type: (string | Component)</strong> and <strong class="markup--strong markup--p-strong">props: Object</strong>.*</p><p name="a389" id="a389" class="graf--p graf-after--p">When the element’s <strong class="markup--strong markup--p-strong">type</strong> is a string, an element represents a DOM node with that tag name, and <strong class="markup--strong markup--p-strong">props </strong>correspond to its attributes. This is what React will render. For example:</p><pre name="efc9" id="efc9" class="graf--pre graf-after--p">{<br>  type: &#39;button&#39;,<br>  props: {<br>    className: &#39;button button-blue&#39;,<br>    children: {<br>      type: &#39;b&#39;,<br>      children: &#39;OK!&#39;<br>    }<br>  }<br>}</pre><p name="647a" id="647a" class="graf--p graf-after--pre">Such an element is just a way to represent this HTML as a plain object:</p><pre name="62d5" id="62d5" class="graf--pre graf-after--p">&lt;button class=&#39;button button-blue&#39;&gt;<br>  &lt;b&gt;<br>    OK!<br>  &lt;/b&gt;<br>&lt;/button&gt;</pre><p name="31ed" id="31ed" class="graf--p graf-after--pre">Note how the elements can be nested. By convention, when we want to create an element tree, we specify one or more child elements as the <strong class="markup--strong markup--p-strong">children</strong> prop of their containing element.</p><p name="4c73" id="4c73" class="graf--p graf-after--p">What’s important is that both child and parent elements are <em class="markup--em markup--p-em">just descriptions and not actual instances.</em> They don’t refer to anything on the screen when you create them. You can create them and throw them away, and it won’t matter much.</p><p name="9a74" id="9a74" class="graf--p graf-after--p">React Elements are easy to traverse, don’t need to be parsed, and of course are much lighter than the actual DOM elements—they’re just objects!</p><p name="aaea" id="aaea" class="graf--p graf-after--p">However, the <strong class="markup--strong markup--p-strong">type</strong> of an element can also be a function or class corresponding to a React component:</p><pre name="20cb" id="20cb" class="graf--pre graf-after--p">{<br>  type: Button,<br>  props: {<br>    color: &#39;blue&#39;,<br>    children: &#39;OK!&#39;<br>  }<br>}</pre><p name="9f4b" id="9f4b" class="graf--p graf-after--pre">This is the core idea of React.</p><p name="4ab4" id="4ab4" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">An element describing a component is also an element, just like an element describing the DOM node. They can be nested and mixed with each other.</strong></p><p name="34c2" id="34c2" class="graf--p graf-after--p">This feature lets you define a <em class="markup--em markup--p-em">DangerButton</em> component as a <em class="markup--em markup--p-em">Button</em> with a specific <em class="markup--em markup--p-em">color</em> property value without worrying about whether <em class="markup--em markup--p-em">Button </em>renders to a <em class="markup--em markup--p-em">button</em>, a <em class="markup--em markup--p-em">div</em>, or something else entirely.</p><pre name="0bc2" id="0bc2" class="graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">const</strong> DangerButton = ({ children }) =&gt; ({<br>  type: Button,<br>  props: {<br>    color: &#39;red&#39;,<br>    children: children<br>  }<br>});</pre><p name="47d4" id="47d4" class="graf--p graf-after--pre">You can mix and match them later:</p><pre name="49e3" id="49e3" class="graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">const</strong> DeleteAccount = () =&gt; ({<br>  type: &#39;div&#39;,<br>  props: {<br>    children: [{<br>      type: &#39;p&#39;,<br>      props: {<br>        children: &#39;Are you sure?&#39;<br>      }<br>    }, {<br>      type: DangerButton,<br>      props: {<br>        children: &#39;Yep&#39;<br>      }<br>    }, {<br>      type: Button,<br>      props: {<br>        color: &#39;blue&#39;,<br>        children: &#39;Cancel&#39;<br>      }<br>   }]<br>});</pre><p name="4236" id="4236" class="graf--p graf-after--pre">Or, if you prefer JSX:</p><pre name="7619" id="7619" class="graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">const</strong> DeleteAccount = () =&gt; (<br>  &lt;div&gt;<br>    &lt;p&gt;Are you sure?&lt;/p&gt;<br>    &lt;DangerButton&gt;Yep&lt;/DangerButton&gt;<br>    &lt;Button color=&#39;blue&#39;&gt;Cancel&lt;/Button&gt;<br>  &lt;/div&gt;<br>);</pre><p name="5f5f" id="5f5f" class="graf--p graf-after--pre">This keeps components decoupled from each other, as they can express both <em class="markup--em markup--p-em">is-a</em> and <em class="markup--em markup--p-em">has-a</em> relationships exclusively through composition.</p><p name="466b" id="466b" class="graf--p graf-after--p">When React sees an element with a function or class <strong class="markup--strong markup--p-strong">type</strong>, it will know to ask <em class="markup--em markup--p-em">that</em> component what element it renders to with the given <strong class="markup--strong markup--p-strong">props</strong>.</p><p name="ecf6" id="ecf6" class="graf--p graf-after--p">When it sees</p><pre name="7451" id="7451" class="graf--pre graf-after--p">{<br>  type: Button,<br>  props: {<br>    color: &#39;blue&#39;,<br>    children: &#39;OK!&#39;<br>  }<br>}</pre><p name="86b1" id="86b1" class="graf--p graf-after--pre">React will ask <em class="markup--em markup--p-em">Button</em> what it renders to, and it will get</p><pre name="c3ff" id="c3ff" class="graf--pre graf-after--p">{<br>  type: &#39;button&#39;,<br>  props: {<br>    className: &#39;button button-blue&#39;,<br>    children: {<br>      type: &#39;b&#39;,<br>      children: &#39;OK!&#39;<br>    }<br>  }<br>}</pre><p name="89e1" id="89e1" class="graf--p graf-after--pre">React will repeat this process until it knows the underlying DOM tag elements for every component on the page.</p><p name="76fb" id="76fb" class="graf--p graf-after--p">React is like a child asking “what is Y” for every “X is Y” you explain to them until they figure out every little thing in the world.</p><p name="8dfe" id="8dfe" class="graf--p graf-after--p">Remember the <em class="markup--em markup--p-em">Form</em> example above? It can be written in React as follows*:</p><pre name="5d63" id="5d63" class="graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">const</strong> Form = ({ isSubmitted, buttonText }) =&gt; {<br>  <strong class="markup--strong markup--pre-strong">if</strong> (isSubmitted) {<br><em class="markup--em markup--pre-em">    // Form submitted! Return a message element.<br></em>    <strong class="markup--strong markup--pre-strong">return</strong> {<br>      type: Message,<br>      props: {<br>        text: &#39;Success!&#39;<br>      }<br>    };<br>  }</pre><pre name="be84" id="be84" class="graf--pre graf-after--pre"><em class="markup--em markup--pre-em">  // Form still visible! Return a button element.</em><br>  <strong class="markup--strong markup--pre-strong">return </strong>{<br>    type: Button,<br>    props: {<br>      children: buttonText,<br>      color: &#39;blue&#39;<br>    }<br>  };<br>};</pre><p name="4e42" id="4e42" class="graf--p graf-after--pre">That’s it! For a React component, props are the input, and an element tree is the output.</p><p name="41a4" id="41a4" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">The returned element tree can contain both elements describing DOM nodes, and elements describing other components. This lets you compose independent parts of UI without relying on their internal DOM structure.</strong></p><p name="f826" id="f826" class="graf--p graf-after--p">We let React create, update, and destroy instances. We <em class="markup--em markup--p-em">describe</em> them with elements we return from the components, and React takes care of managing the instances.</p><p name="40e9" id="40e9" class="graf--p graf-after--p">In the code above, <em class="markup--em markup--p-em">Form</em>, <em class="markup--em markup--p-em">Message</em>, and <em class="markup--em markup--p-em">Button</em> are React components. They can either be written as functions, as above, or as classes descending from <em class="markup--em markup--p-em">React.Component</em>:</p><pre name="875d" id="875d" class="graf--pre graf-after--p"><strong class="markup--strong markup--pre-strong">class</strong> Button <strong class="markup--strong markup--pre-strong">extends</strong> React.Component {<br>  render() {<br>    <strong class="markup--strong markup--pre-strong">const</strong> { children, color } = <strong class="markup--strong markup--pre-strong">this</strong>.props;</pre><pre name="631e" id="631e" class="graf--pre graf-after--pre"><em class="markup--em markup--pre-em">    // Return an element describing a<br>    // &lt;button&gt;&lt;b&gt;{children}&lt;/b&gt;&lt;/button&gt;</em></pre><pre name="6247" id="6247" class="graf--pre graf-after--pre">    <strong class="markup--strong markup--pre-strong">return</strong> {<br>      type: &#39;button&#39;,<br>      props: {<br>        className: &#39;button button-&#39; + color,<br>        children: {<br>          type: &#39;b&#39;,<br>          props: {<br>            children: children<br>          }<br>        }<br>      }<br>    };<br>  }<br>}</pre><p name="d7e6" id="d7e6" class="graf--p graf-after--pre">When a component is defined as a class, it is a little more powerful than a functional component. It can store some local state and perform custom logic when the corresponding DOM node is created or destroyed. A functional component is less powerful but is simpler, and it acts like a class component with just a single <em class="markup--em markup--p-em">render()</em> method.</p><p name="5112" id="5112" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">However, whether functions or classes, fundamentally they are all components to React. They take the props as their input, and return the elements as their output.</strong></p><p name="7062" id="7062" class="graf--p graf-after--p">When you call</p><pre name="2d18" id="2d18" class="graf--pre graf-after--p">ReactDOM.render({<br>  type: Form,<br>  props: {<br>    isSubmitted: <strong class="markup--strong markup--pre-strong">false</strong>,<br>    buttonText: &#39;OK!&#39;<br>  }<br>}, <strong class="markup--strong markup--pre-strong">document</strong>.getElementById(&#39;root&#39;));</pre><p name="5a6b" id="5a6b" class="graf--p graf-after--pre">React will ask the <em class="markup--em markup--p-em">Form</em> component what element tree it returns, given those props. It will gradually “refine” its understanding of your component tree in terms of simpler primitives:</p><pre name="43df" id="43df" class="graf--pre graf-after--p"><em class="markup--em markup--pre-em">// React: You told me this...</em><br>{<br>  type: Form,<br>  props: {<br>    isSubmitted: <strong class="markup--strong markup--pre-strong">false,<br>    </strong>buttonText: &#39;OK!&#39;<br>  }<br>}</pre><pre name="e027" id="e027" class="graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// React: ...And Form told me this...</em><br>{<br>  type: Button,<br>  props: {<br>    children: &#39;OK!&#39;,<br>    color: &#39;blue&#39;<br>  }<br>}</pre><pre name="aedf" id="aedf" class="graf--pre graf-after--pre"><em class="markup--em markup--pre-em">// React: ...and Button told me this! I guess I&#39;m done.</em><br>{<br>  type: &#39;button&#39;,<br>  props: {<br>    className: &#39;button button-blue&#39;,<br>    children: {<br>      type: &#39;b&#39;,<br>      props: {<br>        children: &#39;OK!&#39;<br>      }<br>    }<br>  }<br>}</pre><p name="7aaa" id="7aaa" class="graf--p graf-after--pre">At the end of this process React knows the result DOM tree, and a renderer like <em class="markup--em markup--p-em">ReactDOM</em> or <em class="markup--em markup--p-em">React Native</em> applies the minimal set of changes necessary to update the actual DOM nodes.</p><p name="ac5c" id="ac5c" class="graf--p graf-after--p">This gradual refining process is also the reason React apps are easy to optimize. If some parts of your component tree become too large for React to visit efficiently, you can tell it to <a href="https://facebook.github.io/react/docs/advanced-performance.html" data-href="https://facebook.github.io/react/docs/advanced-performance.html" class="markup--anchor markup--p-anchor" rel="nofollow">skip this “refining” and diffing certain parts of the tree if the relevant props have not changed</a>. It is very fast to calculate whether the props have changed if they are immutable, so React and immutability work great together, and can provide great optimizations with the minimal effort.</p><p name="b002" id="b002" class="graf--p graf-after--p">You might have noticed that I have talked a lot about components and elements, and not so much about the instances. The truth is, instances have much less importance in React than in most object oriented UI frameworks.</p><p name="491f" id="491f" class="graf--p graf-after--p">Only components declared as classes have instances, and you never create them directly: React does that for you. While there are mechanisms for a parent component instance to access a child component instance, they are only used for imperative actions (such as setting focus on a field), and should generally be avoided.</p><p name="090c" id="090c" class="graf--p graf-after--p">React will take care of creating an instance for every class component, so that you can write components in an object oriented way with methods and local state, but other than that, instances are not very important in the React’s programming model, and are managed by React itself.</p><h3 name="5b08" id="5b08" class="graf--h3 graf-after--p">Recap</h3><p name="58e4" id="58e4" class="graf--p graf-after--h3"><em class="markup--em markup--p-em">An element</em> is a plain object describing what you want to appear on the screen in terms of the DOM nodes or other components. Elements can contain other elements in their props.</p><p name="9de4" id="9de4" class="graf--p graf-after--p">A <em class="markup--em markup--p-em">component</em> can be two things. It can be a class with a <em class="markup--em markup--p-em">render() </em>method that inherits from <em class="markup--em markup--p-em">React.Component</em> . Or it can be a function. In both cases, it takes props as an input, and returns an element tree as the output.</p><p name="877a" id="877a" class="graf--p graf-after--p">When a component receives some props as an input, it is because a parent component returned an element with its type and these props. This is why people say that the props flows one way in React: from parents to children.</p><p name="cca5" id="cca5" class="graf--p graf-after--p">An <em class="markup--em markup--p-em">instance</em> is what you refer to as <strong class="markup--strong markup--p-strong">this</strong> in the component class you write. It is useful for storing local state and reacting to the lifecycle events.</p><p name="cb9f" id="cb9f" class="graf--p graf-after--p">Functional components don’t have instances at all. Class components have instances, but you never need to create a component instance directly—React takes care of this.</p><p name="7e49" id="7e49" class="graf--p graf-after--p">Finally, to create elements, use <em class="markup--em markup--p-em">React.createElement(), </em>JSX, or an element factory helper. I discourage you from writing them as plain objects in the real code—just know that they are plain objects under the hood.</p><h3 name="1cd7" id="1cd7" class="graf--h3 graf-after--p">Further Reading</h3><ul class="postList"><li name="9e48" id="9e48" class="graf--li graf-after--h3"><a href="https://facebook.github.io/react/blog/2014/10/14/introducing-react-elements.html" data-href="https://facebook.github.io/react/blog/2014/10/14/introducing-react-elements.html" class="markup--anchor markup--li-anchor" rel="nofollow">Introducing React Elements</a></li><li name="80e8" id="80e8" class="graf--li graf-after--li"><a href="https://facebook.github.io/react/blog/2015/02/24/streamlining-react-elements.html" data-href="https://facebook.github.io/react/blog/2015/02/24/streamlining-react-elements.html" class="markup--anchor markup--li-anchor" rel="nofollow">Streamlining React Elements</a></li><li name="1ce6" id="1ce6" class="graf--li graf-after--li"><a href="https://facebook.github.io/react/docs/glossary.html" data-href="https://facebook.github.io/react/docs/glossary.html" class="markup--anchor markup--li-anchor" rel="nofollow">React (Virtual) DOM Terminology</a></li></ul><h3 name="c353" id="c353" class="graf--h3 graf-after--li">Footnotes</h3><blockquote name="3f0f" id="3f0f" class="graf--blockquote graf-after--h3 graf--last">* All React elements <a href="https://github.com/facebook/react/pull/4832" data-href="https://github.com/facebook/react/pull/4832" class="markup--anchor markup--blockquote-anchor" rel="nofollow">require an additional $$typeof: Symbol.for(‘react.element’) field on the object for the security reasons</a>. I am omitting it in the examples above. Generally you should either use JSX or React.createElement() so don’t worry about it. I wanted to give you an idea about the raw API, so I wrote the objects inline, but to run this code, you need to add $$typeof to each of them.</blockquote></div></div></section></main><footer class="postArticle-footer"><div class="postActionsFooter container u-size740"><div class="row"><div class="col u-xs-size12of12"></div></div><div class="row"><div class="col u-xs-size12of12 js-postTags"><div class="postTags"><div class="tags tags--postTags tags--borderless"><a class="link"  href="https://medium.com/tag/react?source=post" title="Go to React" aria-label="Go to React" data-action-source="post">React</a><a class="link"  href="https://medium.com/tag/javascript?source=post" title="Go to JavaScript" aria-label="Go to JavaScript" data-action-source="post">JavaScript</a></div></div></div></div><div class="row js-postActionsFooter"><div class="postActions col u-xs-size12of12"><div class="u-floatLeft buttonSet buttonSet--withLabels"><div class="buttonSet-inner"><div class="js-actionRecommend" data-post-id="90800811f8ca" data-size="29px"><button class="button button--primary button--large button--chromeless button--withIcon button--withSvgIcon"  title="Recommend to share this article with your followers and let the author know you liked it" aria-label="Recommend to share this article with your followers and let the author know you liked it"data-action="sign-in-prompt" data-sign-in-action="upvote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/90800811f8ca"><span class="button-defaultState"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--heart svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-heart-29px-p0"></use></svg></span><span class="button-activeState"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--heartFilled svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-heartFilled-29px-p0"></use></svg></span></button><button class="button button--chromeless"  data-action="show-recommends" data-action-value="90800811f8ca">472</button></div></div><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless button--withIcon button--withSvgIcon"  data-action="scroll-to-responses"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--response svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-response-29px-p0"></use></svg></button><button class="button button--chromeless"  data-action="scroll-to-responses">9</button></div></div><div class="u-floatRight buttonSet buttonSet--narrow"><button class="button button--large button--dark button--chromeless button--withIcon button--withSvgIcon"  data-action="share-on-twitter"value="90800811f8ca"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--twitter svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-twitter-29px-p0"></use></svg></button><button class="button button--large button--dark button--chromeless button--withIcon button--withSvgIcon"  data-action="share-on-facebook"value="90800811f8ca"><svg viewBox="0 0 29 29" width="29" height="29" class="svgIcon svgIcon--facebook svgIcon-size--29px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-facebook-29px-p0"></use></svg></button><button class="button button--large button--dark button--chromeless button--withIcon js-moreActionsButton button--withSvgIcon"  title="More actions" aria-label="More actions" data-action="more-actions"><svg viewBox="0 0 25 25" width="25" height="25" class="svgIcon svgIcon--more svgIcon-size--25px"><use class="svgIcon-use svgIcon-use--part0" xlink:href="#svg-more-25px-p0"></use></svg></button></div></div></div></div><div class="container u-size740"><div class="row postFooter-info2"><div class="col u-xs-size12of12"><hr class="postFooter-infoDivider"></div></div><div class="row js-postFooterInfo"><div class="col u-xs-size12of12"><li class="card card-user"><div class="u-floatRight"><span class="followState js-followState buttonSet-inner" data-user-id="a3a8af6addc1"><button class="button button--small u-noUserSelect button--withChrome button--withHover button--unblock js-unblockButton" data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="footer_card"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--small u-noUserSelect button--withChrome button--follow js-followButton" data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/a3a8af6addc1" data-action-source="footer_card_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="card-imageWrapper "><a class="link avatar"  href="https://medium.com/@dan_abramov?source=footer_card" title="Go to the profile of Dan Abramov" aria-label="Go to the profile of Dan Abramov" data-action-source="footer_card" data-user-id="a3a8af6addc1" dir="auto"><img src="https://cdn-images-1.medium.com/fit/c/60/60/1*4ETgx0WkR3WjYU2eC0p3Ew.jpeg" class="avatar-image avatar-image--small" alt="Go to the profile of Dan Abramov"></a></div><div class="card-content"><h3 class="card-name"><a class="link link--primary"  href="https://medium.com/@dan_abramov" property="cc:attributionName" title="Go to the profile of Dan Abramov" aria-label="Go to the profile of Dan Abramov" rel="author cc:attributionUrl" data-user-id="a3a8af6addc1" dir="auto">Dan Abramov</a></h3><p class="card-description">Making hot reloading mainstream. Created React Hot Loader, Redux, React DnD.</p></div></li></div></div></div><div class="js-postBundleWrapper postBundleWrapper"></div><div class="responsesWrapper supplementalPostContent js-responsesWrapper"></div><div class="supplementalPostContent js-readNext"></div></footer></article><div class="promoCardWrapper js-promoCardWrapper"><div class="promoCard"><button class="button button--chromeless button--close"  data-action="popup-dismiss">&times;</button><div class="promoCard-header">Don’t miss Dan Abramov’s next story</div><div class="u-floatRight"><span class="followState js-followState buttonSet-inner" data-user-id="a3a8af6addc1"><button class="button u-noUserSelect button--withChrome button--withHover button--unblock js-unblockButton" data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="user_follow_popup"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary u-noUserSelect button--withChrome button--follow js-followButton" data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/a3a8af6addc1" data-action-source="user_follow_popup_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="avatar"><img src="https://cdn-images-1.medium.com/fit/c/40/40/1*4ETgx0WkR3WjYU2eC0p3Ew.jpeg" class="avatar-image avatar-image--smaller" alt="Dan Abramov"><span class="avatar-text">Dan Abramov</span></div></div></div></div></div></div><div class="loadingBar"></div><script>// <![CDATA[
window["obvInit"] = function (opt_embedded) {window["obvInit"]["embedded"] = opt_embedded; window["obvInit"]["ready"] = true;}
// ]]></script><script>// <![CDATA[
var GLOBALS = {"audioUrl":"https://d1fcbxp97j4nb2.cloudfront.net","baseUrl":"https://medium.com","bestOfFirstSlug":"may-2013","bestOfLatestSlug":"december-2015","buildLabel":"19238-088dc7c","currentUser":{"userId":"lo_6cccb689271b","isVerified":false,"subscriberEmail":""},"currentUserHasUnverifiedEmail":false,"facebookKey":"542599432471018","facebookScope":["public_profile","email","user_friends"],"isAuthenticated":false,"isCurrentUserVerified":false,"language":"en-us","loadingPlaceholderImg":"https://cdn-static-1.medium.com/_/fp/img/media-loading-placeholder.b31hiO4ynbDLRrXWEFF4aQ.png","mediumTwitterScreenName":"medium","miroUrl":"https://cdn-images-1.medium.com","moduleUrls":{"base":"https://cdn-static-1.medium.com/_/fp/js/main-base.bundle.wEGM9XU4qVANGoMaFl5mRQ.js","notes":"https://cdn-static-1.medium.com/_/fp/js/main-notes.bundle.XCVdFBKgSf0PzMJxbtLW9w.js","posters":"https://cdn-static-1.medium.com/_/fp/js/main-posters.bundle.NebNaAruaJPHWueDMHtR_A.js","common-async":"https://cdn-static-1.medium.com/_/fp/js/main-common-async.bundle._qzJfEHrQt3GgShm7b_rSA.js","stats":"https://cdn-static-1.medium.com/_/fp/js/main-stats.bundle.jUsAICwpKpxHSIKcnohFCQ.js","misc-screens":"https://cdn-static-1.medium.com/_/fp/js/main-misc-screens.bundle.x3kT1UibkFdMKpl2z3fi-g.js"},"postColumnWidth":700,"previewConfig":{"weightThreshold":1,"weightEmptyParagraph":0,"weightIframeParagraph":0.8,"weightImageParagraph":0.51,"weightTextParagraph":0.08,"weightBq":0.003,"weightH":0.005,"weightP":0.003,"minPTextLength":60,"truncateBoundaryChars":20,"detectTitle":true,"detectTitleLevThreshold":0.15,"experimentImagesInsetCenter":false,"previewConfigVariantA":{"experimentImagesInsetCenter":true},"previewConfigVariantB":{"weightThreshold":10,"detectTitle":false}},"productName":"Medium","supportsEdit":true,"termsUrl":"//medium.com/policy/9db0094a1e0f","textshotHost":"textshot.medium.com","transactionId":"1453753032256:89e2f29557cd","useragent":{"browser":"chrome","family":"chrome","os":"mac","version":47,"supportsDesktopEdit":true,"supportsInteract":true,"supportsView":true,"isMobile":false,"isTablet":false,"isNative":false,"supportsFileAPI":true,"isTier1":true,"clientVersion":"","unknownParagraphsBad":false,"clientChannel":"","supportsRealScrollEvents":true,"supportsVhUnits":true,"ruinsViewportSections":false,"supportsHtml5Video":true,"supportsMagicUnderlines":true,"isFacebook":false,"isWebView":false,"isFacebookWebView":false,"supportsSvgExternalResources":true,"supportsScrollableMetabar":true,"supportsProgressiveMedia":true,"isGoogle":false},"variants":{"allow_access":true,"allow_signup":true,"can_vote":true,"can_update_settings":true,"can_send_push_notifications":true,"can_export_data":true,"enable_notes":true,"allow_test_auth":"disallow","enable_email_login":true,"enable_email_registration":true,"enable_spam_detection":true,"use_experimental_css":true,"can_resume_from_last_read_location":true,"enable_embeds":true,"use_full_width_images":true,"upload_multiple_files":true,"can_follow_users":true,"can_block_users":true,"allow_request_account_deletion":true,"see_featured_post_tab":true,"receive_post_published_pushes":true,"receive_mention_pushes":true,"enable_account_conversion":true,"use_new_scheduled_delivery_flow":true,"feed_homepage":true,"enable_collection_subscription_fanout":true,"welcome_post_url":"https://medium.com/about/about-medium-9eac453da935","signin_services":"twitter,facebook,google","signup_services":"twitter,facebook,google","mobile_app_promotion":"dialog","enable_bing_search":true,"enable_algolia_search":true,"show_tagged_posts_in_search":true,"enable_respond_to_web":true,"drafts_unauth":true,"friends_only_quotes":true,"enable_rating_prompt":true,"enable_your_stories_more_actions":true,"enable_user_search_with_bing":true,"enable_drop_caps":true,"enable_session_cookie_encryption":true,"enable_follow_tags":true,"enable_editors_can_pull_stories":true,"enable_send_pub_newsletters":true,"enable_receive_pub_newsletters":true,"enable_tag_follow_onboarding":true,"your_top_stories_source":"similar-posts","follower_suggestion_source":"friends-of-friends","enable_query_by_in_response_to_post_id":true,"enable_service_worker":true,"android_explore_is_home":true,"android_rating_prompt_recommend_threshold":5,"number_of_top_stories":3,"number_of_in_stream_ts4u":3,"number_of_in_stream_global_top_stories":3,"source_of_in_stream_ts4u":"friends-rec-7d","enable_top_stories_in_stream":true,"enable_top_stories_in_stream_on_ios":true,"enable_top_stories_in_stream_on_android":true,"enable_post_recommend_threshold_in_stream":true,"enable_response_recommend_threshold_in_stream":true,"post_recommend_threshold":1,"response_recommend_threshold":2,"new_stream_reasons":true,"google_sign_in_backend":true,"google_sign_in_android":true,"enable_quote_feed_write":true,"enable_pile_on_activity":true,"enable_onboarding":true,"enable_rds_activity":true,"enable_rds_activity_read":true,"enable_activity_rollup":true,"activity_rollup_method":"all","enable_activity_rollup_be":true,"enable_simple_open_in_app":true,"custom_miro_url":"https://cdn-images-1.medium.com","ios_custom_miro_url":"https://cdn-images-1.medium.com","enable_friends_recommends_plugin":true,"enable_write_stats_cache":true,"enable_populate_post_stats":true,"enable_most_recommended_response":true,"no_push_notification_for_responses":true,"receive_follow_pushes":true,"receive_recommend_pushes":true,"receive_response_pushes":true,"receive_highlight_pushes":true,"enable_ios_badge":true,"enable_small_first_page":true,"enable_response_email2":true,"fetch_with_relation_index":true,"user_popover_experiment":true,"reengagement_notification_duration":3,"enable_context_cards":true,"enable_progressive_media":true,"enable_oauth_api":true,"enable_oauth_token_self_issuance":true,"enable_oauth_app_creation":true,"list_of_lists_bucket":"default","use_new_push_notification_logic":true,"enable_send_ios_pushes_using_channel_ids":true,"explore_tab_ios_posts_per_section_limit":4,"enable_hopper_user_blocks":true,"enable_user_social_count_healing":true,"enable_social_counts_from_user_stat_total":true,"enable_responses_stream":true,"show_social_buttons_on_logged_out_post_footer":true,"enable_preview_footer_two":true,"show_sponsored_read_next":true,"track_with_social_id":true,"filter_responses_in_stream":true,"disable_inherit_tags_inline":true,"sponsored_read_next_cohort":"a","enable_post_bundles":true,"post_bundles_type":"curated","show_author_writes_about":true,"prefetch_tag_suggestions":true,"enable_tab_titles_ios":true,"enable_conversations_ios":true,"enable_expand_responses_inline_ios":true,"enable_sticky_footers_ios":true,"show_letters_stats":true},"xsrfToken":"","iosAppId":"828256236","supportEmail":"yourfriends@medium.com","teamName":"Team Medium","fp":{"/img/default-avatar.png":"https://cdn-static-1.medium.com/_/fp/img/default-avatar.dmbNkD5D-u45r44go_cf0g.png","/img/default-preview-image.png":"https://cdn-static-1.medium.com/_/fp/img/default-preview-image.IsBK38jFAJBlWifMLO4z9g.png","/img/email/app_store_badge@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/app_store_badge@2x.8bDQGNMm-Xs7Hz6WA2XquQ.png","/img/email/app-devices@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/app-devices@2x.Ewl5-si-nhkLKZFIFSgrOw.png","/img/email/check1.png":"https://cdn-static-1.medium.com/_/fp/img/email/check1.0DM77li7vZhq5o2V9cVYLQ.png","/img/email/check2.png":"https://cdn-static-1.medium.com/_/fp/img/email/check2.GLlNusQmn1hwo9WDN-gE1w.png","/img/email/check3.png":"https://cdn-static-1.medium.com/_/fp/img/email/check3.7VxOUVMXAVbHRRnzMrJ_5A.png","/img/email/email-logo.png":"https://cdn-static-1.medium.com/_/fp/img/email/email-logo.x91rxfZYzIT9OJ5-ySD30A.png","/img/email/fb_logo.png":"https://cdn-static-1.medium.com/_/fp/img/email/fb_logo.Q0M98YwNTu77gLWTK6-RyQ.png","/img/email/google_play_badge@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/google_play_badge@2x.iWEWlt5_Qj20rr79-IGEBQ.png","/img/email/heart.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart._hlyuYQiuuTWrRmDnDphJA.png","/img/email/heart@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart@2x.qvCTX1XHNpntqxt01oypQw.png","/img/email/heart1.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart1.rnGEmSwcGUhztl_zSU7l6Q.png","/img/email/heart2.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart2.HBiLu3koIYsKjjKroohgbA.png","/img/email/heart3.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart3.AIJBOHw11HuhdClVJNtmtg.png","/img/email/large.png":"https://cdn-static-1.medium.com/_/fp/img/email/large.4EIhZbIk5sgqYSoB4YPmUA.png","/img/email/response.png":"https://cdn-static-1.medium.com/_/fp/img/email/response.5ZuN24N5XqS7ofHKg1lKXw.png","/img/email/response@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/response@2x.xzKQM4FzSurAVkghLQQWkA.png","/img/email/twitter_logo.png":"https://cdn-static-1.medium.com/_/fp/img/email/twitter_logo.Pz4a3o9WMU5QioxLKcyFhQ.png","/img/email/unlisted.png":"https://cdn-static-1.medium.com/_/fp/img/email/unlisted.ikh8R2LElOz_1YM8A2Db4g.png","/img/email/welcome-heart.png":"https://cdn-static-1.medium.com/_/fp/img/email/welcome-heart.6BRCOGcwGeOCBTql8pbq2g.png","/img/email/welcome-response.png":"https://cdn-static-1.medium.com/_/fp/img/email/welcome-response.iWVQLjiUG5pyQrPyGiYEpw.png","/img/email/welcome-write.png":"https://cdn-static-1.medium.com/_/fp/img/email/welcome-write.afdGsuE6YDk3HkaIASRl0w.png","/img/help/add-media-start.gif":"https://cdn-static-1.medium.com/_/fp/img/help/add-media-start.GXmqQ2Svt1WfZGIZSM93tg.gif","/img/help/add-media.gif":"https://cdn-static-1.medium.com/_/fp/img/help/add-media.SZH2LBmkwVExuhozFfVvYg.gif","/img/help/embed-start.gif":"https://cdn-static-1.medium.com/_/fp/img/help/embed-start.EBJ2PcWFJuYopsQV4wwklA.gif","/img/help/embed.gif":"https://cdn-static-1.medium.com/_/fp/img/help/embed.1BM0Di9vd91Kv8fLioJabw.gif","/img/help/text-highlight-start.gif":"https://cdn-static-1.medium.com/_/fp/img/help/text-highlight-start.AvTbakaFuUCd05YoMECoMQ.gif","/img/help/text-highlight.gif":"https://cdn-static-1.medium.com/_/fp/img/help/text-highlight.XVChoKYZ1-s3gJgHm9-7Yg.gif","/img/help/2.0-add-media.gif":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-add-media.LhrJcTFODoqjnPPuHNEInA.gif","/img/help/2.0-add-media-start.png":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-add-media-start.PTVdm36977cSfaYOpMNTNQ.png","/img/help/2.0-highlight-menu.gif":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-highlight-menu.vMoUc7pXOyYFMJX68LXicw.gif","/img/help/2.0-highlight-menu-start.png":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-highlight-menu-start.7vCytTKUZPOZvr_MCYADsA.png","/img/help/2.0-embed.gif":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-embed.2g5jIXYtWjsRFa9D-hBhMQ.gif","/img/help/2.0-embed-start.png":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-embed-start.LGy_FmixvcoEVIDKjg1jwA.png","/img/help/2.0-mention.gif":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-mention.H9pEv0eHAvkGUVqdrHxH5g.gif","/img/help/2.0-mention-start.png":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-mention-start.ShYTOfy6w3VDU9PKFfOEyw.png","/img/help/highlight-tips-1.gif":"https://cdn-static-1.medium.com/_/fp/img/help/highlight-tips-1.dEp02HXMKtAeKxsV5MWqGg.gif","/img/help/highlight-tips-2.gif":"https://cdn-static-1.medium.com/_/fp/img/help/highlight-tips-2.SyXCciYXeNpx4-GUAuh0XQ.gif","/img/import/highlight-menu.png":"https://cdn-static-1.medium.com/_/fp/img/import/highlight-menu.kzoaVM8mJJ-Hu9m9uo3Omg.png","/img/import/image-highlight-menu.png":"https://cdn-static-1.medium.com/_/fp/img/import/image-highlight-menu.q43-H2dl0JvBS_5znQCW8A.png","/img/import/publish-metabar.png":"https://cdn-static-1.medium.com/_/fp/img/import/publish-metabar.YbEX1a2Pu0rAR_LuKeg8JA.png"},"facebookNamespace":"medium-com","authBaseUrl":"https://medium.com","imageUploadSizeMb":25,"isAuthDomainRequest":true,"algoliaApiEndpoint":"https://MQ57UUUQZ2-dsn.algolia.net","algoliaAppId":"MQ57UUUQZ2","algoliaSearchOnlyApiKey":"aadabda268e3bfaffe7b287709262fec","iosAppStoreUrl":"https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8","iosAppLinkBaseUrl":"medium:","algoliaIndexPrefix":"medium_","androidPlayStoreUrl":"https://play.google.com/store/apps/details?id=com.medium.reader","googleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","androidPackage":"com.medium.reader","androidPlayStoreMarketScheme":"market://details?id=com.medium.reader","googleAuthUri":"https://accounts.google.com/o/oauth2/auth","androidScheme":"medium","iconsSvgUrl":"/_/proxy-static/_/fp/icons/icons.x84y7VDaAqaet96KdL1a2Q.svg","layoutData":{"useDynamicScripts":false,"googleAnalyticsTrackingCode":"UA-24232453-2","jsShivUrl":"https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js","iconsJsUrl":"https://cdn-static-1.medium.com/_/fp/js/icons.uF5ywuLhRzViWkCTV09hRQ.js","favIconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-new.TAS6uQ-Y7kcKgi0xjcYHXw.ico","cssFontUrls":["https://cdn-static-1.medium.com/_/fp/css/fonts-base.LqXl5T9RMAR39Ge23ku50w.css"]},"authBaseUrlRev":"moc.muidem//:sptth","isDnt":false,"stripePublishableKey":"pk_test_kgaI7g0OvDySoqecpxnmmqWk","archiveUploadSizeMb":25,"paymentData":{"currencies":{"1":{"label":"US Dollar","external":"usd"}},"countries":{"1":{"label":"United States of America","external":"US"}},"accountTypes":{"1":{"label":"Individual","external":"individual"},"2":{"label":"Company","external":"company"}}}}
// ]]></script><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/main-base.bundle.wEGM9XU4qVANGoMaFl5mRQ.js" async="true"></script><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/icons.uF5ywuLhRzViWkCTV09hRQ.js"></script><script>// <![CDATA[
window["obvInit"]({"value":{"id":"90800811f8ca","versionId":"3f4bf8dc74f0","creatorId":"a3a8af6addc1","creator":{"userId":"a3a8af6addc1","name":"Dan Abramov","username":"dan_abramov","createdAt":1345044864387,"lastPostCreatedAt":1453684552388,"imageId":"1*4ETgx0WkR3WjYU2eC0p3Ew.jpeg","backgroundImageId":"1*WqkSfqv8cJBVspX36Fb95w.jpeg","bio":"Making hot reloading mainstream. Created React Hot Loader, Redux, React DnD.","twitterScreenName":"dan_abramov","socialStats":{"userId":"a3a8af6addc1","usersFollowedCount":793,"usersFollowedByCount":10553,"type":"SocialStats"},"social":{"userId":"lo_6cccb689271b","targetUserId":"a3a8af6addc1","type":"Social"},"facebookAccountId":"","allowNotes":1,"type":"User"},"homeCollectionId":"","title":"React Components, Elements, and Instances","detectedLanguage":"en","latestVersion":"3f4bf8dc74f0","latestPublishedVersion":"3f4bf8dc74f0","hasUnpublishedEdits":true,"latestRev":2318,"createdAt":1450110438161,"updatedAt":1450567151121,"acceptedAt":0,"firstPublishedAt":1450117725641,"latestPublishedAt":1450195975973,"isRead":false,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"Many people get confused by the difference between components, their instances, and elements in React. Why are there three different terms…","bodyModel":{"paragraphs":[{"name":"785d","type":3,"text":"React Components, Elements, and Instances","markups":[]},{"name":"e47d","type":1,"text":"Many people get confused by the difference between components, their instances, and elements in React. Why are there three different terms to refer to something that is painted on screen?","markups":[{"type":1,"start":28,"end":101}]},{"name":"468b","type":1,"text":"If you’re new to React, you probably only worked with component classes and instances before. For example, you may declare a Button component by creating a class. When the program is running, you may have several instances of this component on screen, each with its own properties and local state. This is the traditional object oriented UI programming. Why introduce elements?","markups":[{"type":2,"start":131,"end":142},{"type":2,"start":213,"end":223},{"type":2,"start":368,"end":376}]},{"name":"45f7","type":1,"text":"In this traditional UI model, it is up to you take care of creating and destroying child component instances. If a Form component wants to render a Button component, it needs to create its instance, and manually keep it up to date with any new information.","markups":[{"type":2,"start":115,"end":119},{"type":2,"start":148,"end":154}]},{"name":"7c9e","type":8,"text":"class Form extends TraditionalObjectOrientedView {\n  render() {\n    // Read some data passed to the view\n    const { isSubmitted, buttonText } = this.attrs;","markups":[{"type":1,"start":0,"end":5},{"type":1,"start":11,"end":18},{"type":1,"start":109,"end":114},{"type":1,"start":145,"end":149},{"type":2,"start":64,"end":104}]},{"name":"7deb","type":8,"text":"    if (!isSubmitted && !this.button) {\n      // Form is not yet submitted. Create the button!\n      this.button = new Button({\n        children: buttonText,\n        color: 'blue'\n      });\n      this.el.appendChild(this.button.el);\n    }","markups":[{"type":1,"start":4,"end":6},{"type":1,"start":25,"end":29},{"type":1,"start":101,"end":105},{"type":1,"start":115,"end":118},{"type":1,"start":196,"end":200},{"type":1,"start":216,"end":220},{"type":2,"start":46,"end":94}]},{"name":"46a6","type":8,"text":"    if (this.button) {\n      // The button is visible. Update its text!\n      this.button.attrs.children = buttonText;\n      this.button.render();\n    }","markups":[{"type":1,"start":4,"end":6},{"type":1,"start":8,"end":12},{"type":1,"start":78,"end":83},{"type":1,"start":125,"end":129},{"type":2,"start":23,"end":72}]},{"name":"6eff","type":8,"text":"    if (isSubmitted && this.button) {\n      // Form was submitted. Destroy the button!\n      this.el.removeChild(this.button.el);\n      this.button.destroy();\n    }","markups":[{"type":1,"start":4,"end":6},{"type":1,"start":23,"end":27},{"type":1,"start":93,"end":97},{"type":1,"start":113,"end":117},{"type":1,"start":136,"end":140},{"type":2,"start":44,"end":86}]},{"name":"9541","type":8,"text":"    if (isSubmitted && !this.message) {\n      // Form was submitted. Show the success message!\n      this.message = new Message({ text: 'Success!' });\n      this.el.appendChild(this.message.el);\n    }\n  }\n}","markups":[{"type":1,"start":0,"end":7},{"type":1,"start":24,"end":28},{"type":1,"start":101,"end":105},{"type":1,"start":116,"end":119},{"type":1,"start":157,"end":161},{"type":1,"start":177,"end":181},{"type":2,"start":46,"end":94}]},{"name":"c367","type":1,"text":"This is pseudocode, but this is more or less what you end up with when you try to write composable UI that behaves consistently in an object oriented way with a framework like Backbone.","markups":[]},{"name":"de5a","type":1,"text":"Each component has to keep references to its DOM node and to the instances of the children components, and create, update, and destroy them when the time is right. The lines of code grow as the square of the number of possible states of the component, and the parents have direct access to their children component instances, making it hard to decouple them in the future.","markups":[]},{"name":"9aec","type":1,"text":"Now let’s talk about React.","markups":[]},{"name":"1053","type":1,"text":"In React, this is where the elements come to rescue. An element is a plain object describing a component instance or DOM node and its desired properties. It contains only information about the component type (for example, a Button), its properties (for example, its color), and any child elements inside it.","markups":[{"type":1,"start":53,"end":154},{"type":2,"start":28,"end":36},{"type":2,"start":82,"end":92},{"type":2,"start":224,"end":230},{"type":2,"start":266,"end":271}]},{"name":"ce4c","type":1,"text":"An element is not an actual instance. Rather, it is a way to tell React what you want to see on the screen. You can’t call any methods on the element. It’s just an immutable description object with two fields: type: (string | Component) and props: Object.*","markups":[{"type":1,"start":210,"end":236},{"type":1,"start":241,"end":254},{"type":2,"start":81,"end":85}]},{"name":"a389","type":1,"text":"When the element’s type is a string, an element represents a DOM node with that tag name, and props correspond to its attributes. This is what React will render. For example:","markups":[{"type":1,"start":19,"end":23},{"type":1,"start":94,"end":100}]},{"name":"efc9","type":8,"text":"{\n  type: 'button',\n  props: {\n    className: 'button button-blue',\n    children: {\n      type: 'b',\n      children: 'OK!'\n    }\n  }\n}","markups":[]},{"name":"647a","type":1,"text":"Such an element is just a way to represent this HTML as a plain object:","markups":[]},{"name":"62d5","type":8,"text":"\x3cbutton class='button button-blue'\x3e\n  \x3cb\x3e\n    OK!\n  \x3c/b\x3e\n\x3c/button\x3e","markups":[]},{"name":"31ed","type":1,"text":"Note how the elements can be nested. By convention, when we want to create an element tree, we specify one or more child elements as the children prop of their containing element.","markups":[{"type":1,"start":137,"end":145}]},{"name":"4c73","type":1,"text":"What’s important is that both child and parent elements are just descriptions and not actual instances. They don’t refer to anything on the screen when you create them. You can create them and throw them away, and it won’t matter much.","markups":[{"type":2,"start":60,"end":103}]},{"name":"9a74","type":1,"text":"React Elements are easy to traverse, don’t need to be parsed, and of course are much lighter than the actual DOM elements—they’re just objects!","markups":[]},{"name":"aaea","type":1,"text":"However, the type of an element can also be a function or class corresponding to a React component:","markups":[{"type":1,"start":13,"end":17}]},{"name":"20cb","type":8,"text":"{\n  type: Button,\n  props: {\n    color: 'blue',\n    children: 'OK!'\n  }\n}","markups":[]},{"name":"9f4b","type":1,"text":"This is the core idea of React.","markups":[]},{"name":"4ab4","type":1,"text":"An element describing a component is also an element, just like an element describing the DOM node. They can be nested and mixed with each other.","markups":[{"type":1,"start":0,"end":145}]},{"name":"34c2","type":1,"text":"This feature lets you define a DangerButton component as a Button with a specific color property value without worrying about whether Button renders to a button, a div, or something else entirely.","markups":[{"type":2,"start":31,"end":43},{"type":2,"start":59,"end":65},{"type":2,"start":82,"end":87},{"type":2,"start":134,"end":141},{"type":2,"start":154,"end":160},{"type":2,"start":164,"end":167}]},{"name":"0bc2","type":8,"text":"const DangerButton = ({ children }) =\x3e ({\n  type: Button,\n  props: {\n    color: 'red',\n    children: children\n  }\n});","markups":[{"type":1,"start":0,"end":5}]},{"name":"47d4","type":1,"text":"You can mix and match them later:","markups":[]},{"name":"49e3","type":8,"text":"const DeleteAccount = () =\x3e ({\n  type: 'div',\n  props: {\n    children: [{\n      type: 'p',\n      props: {\n        children: 'Are you sure?'\n      }\n    }, {\n      type: DangerButton,\n      props: {\n        children: 'Yep'\n      }\n    }, {\n      type: Button,\n      props: {\n        color: 'blue',\n        children: 'Cancel'\n      }\n   }]\n});","markups":[{"type":1,"start":0,"end":5}]},{"name":"4236","type":1,"text":"Or, if you prefer JSX:","markups":[]},{"name":"7619","type":8,"text":"const DeleteAccount = () =\x3e (\n  \x3cdiv\x3e\n    \x3cp\x3eAre you sure?\x3c/p\x3e\n    \x3cDangerButton\x3eYep\x3c/DangerButton\x3e\n    \x3cButton color='blue'\x3eCancel\x3c/Button\x3e\n  \x3c/div\x3e\n);","markups":[{"type":1,"start":0,"end":5}]},{"name":"5f5f","type":1,"text":"This keeps components decoupled from each other, as they can express both is-a and has-a relationships exclusively through composition.","markups":[{"type":2,"start":74,"end":78},{"type":2,"start":83,"end":88}]},{"name":"466b","type":1,"text":"When React sees an element with a function or class type, it will know to ask that component what element it renders to with the given props.","markups":[{"type":1,"start":52,"end":56},{"type":1,"start":135,"end":140},{"type":2,"start":78,"end":82}]},{"name":"ecf6","type":1,"text":"When it sees","markups":[]},{"name":"7451","type":8,"text":"{\n  type: Button,\n  props: {\n    color: 'blue',\n    children: 'OK!'\n  }\n}","markups":[]},{"name":"86b1","type":1,"text":"React will ask Button what it renders to, and it will get","markups":[{"type":2,"start":15,"end":21}]},{"name":"c3ff","type":8,"text":"{\n  type: 'button',\n  props: {\n    className: 'button button-blue',\n    children: {\n      type: 'b',\n      children: 'OK!'\n    }\n  }\n}","markups":[]},{"name":"89e1","type":1,"text":"React will repeat this process until it knows the underlying DOM tag elements for every component on the page.","markups":[]},{"name":"76fb","type":1,"text":"React is like a child asking “what is Y” for every “X is Y” you explain to them until they figure out every little thing in the world.","markups":[]},{"name":"8dfe","type":1,"text":"Remember the Form example above? It can be written in React as follows*:","markups":[{"type":2,"start":13,"end":17}]},{"name":"5d63","type":8,"text":"const Form = ({ isSubmitted, buttonText }) =\x3e {\n  if (isSubmitted) {\n    // Form submitted! Return a message element.\n    return {\n      type: Message,\n      props: {\n        text: 'Success!'\n      }\n    };\n  }","markups":[{"type":1,"start":0,"end":5},{"type":1,"start":50,"end":52},{"type":1,"start":122,"end":128},{"type":2,"start":69,"end":118}]},{"name":"be84","type":8,"text":"  // Form still visible! Return a button element.\n  return {\n    type: Button,\n    props: {\n      children: buttonText,\n      color: 'blue'\n    }\n  };\n};","markups":[{"type":1,"start":52,"end":59},{"type":2,"start":0,"end":49}]},{"name":"4e42","type":1,"text":"That’s it! For a React component, props are the input, and an element tree is the output.","markups":[]},{"name":"41a4","type":1,"text":"The returned element tree can contain both elements describing DOM nodes, and elements describing other components. This lets you compose independent parts of UI without relying on their internal DOM structure.","markups":[{"type":1,"start":0,"end":210}]},{"name":"f826","type":1,"text":"We let React create, update, and destroy instances. We describe them with elements we return from the components, and React takes care of managing the instances.","markups":[{"type":2,"start":55,"end":63}]},{"name":"40e9","type":1,"text":"In the code above, Form, Message, and Button are React components. They can either be written as functions, as above, or as classes descending from React.Component:","markups":[{"type":2,"start":19,"end":23},{"type":2,"start":25,"end":32},{"type":2,"start":38,"end":44},{"type":2,"start":148,"end":163}]},{"name":"875d","type":8,"text":"class Button extends React.Component {\n  render() {\n    const { children, color } = this.props;","markups":[{"type":1,"start":0,"end":5},{"type":1,"start":13,"end":20},{"type":1,"start":56,"end":61},{"type":1,"start":84,"end":88}]},{"name":"631e","type":8,"text":"    // Return an element describing a\n    // \x3cbutton\x3e\x3cb\x3e{children}\x3c/b\x3e\x3c/button\x3e","markups":[{"type":2,"start":0,"end":79}]},{"name":"6247","type":8,"text":"    return {\n      type: 'button',\n      props: {\n        className: 'button button-' + color,\n        children: {\n          type: 'b',\n          props: {\n            children: children\n          }\n        }\n      }\n    };\n  }\n}","markups":[{"type":1,"start":4,"end":10}]},{"name":"d7e6","type":1,"text":"When a component is defined as a class, it is a little more powerful than a functional component. It can store some local state and perform custom logic when the corresponding DOM node is created or destroyed. A functional component is less powerful but is simpler, and it acts like a class component with just a single render() method.","markups":[{"type":2,"start":320,"end":328}]},{"name":"5112","type":1,"text":"However, whether functions or classes, fundamentally they are all components to React. They take the props as their input, and return the elements as their output.","markups":[{"type":1,"start":0,"end":163}]},{"name":"7062","type":1,"text":"When you call","markups":[]},{"name":"2d18","type":8,"text":"ReactDOM.render({\n  type: Form,\n  props: {\n    isSubmitted: false,\n    buttonText: 'OK!'\n  }\n}, document.getElementById('root'));","markups":[{"type":1,"start":60,"end":65},{"type":1,"start":96,"end":104}]},{"name":"5a6b","type":1,"text":"React will ask the Form component what element tree it returns, given those props. It will gradually “refine” its understanding of your component tree in terms of simpler primitives:","markups":[{"type":2,"start":19,"end":23}]},{"name":"43df","type":8,"text":"// React: You told me this...\n{\n  type: Form,\n  props: {\n    isSubmitted: false,\n    buttonText: 'OK!'\n  }\n}","markups":[{"type":1,"start":74,"end":85},{"type":2,"start":0,"end":29}]},{"name":"e027","type":8,"text":"// React: ...And Form told me this...\n{\n  type: Button,\n  props: {\n    children: 'OK!',\n    color: 'blue'\n  }\n}","markups":[{"type":2,"start":0,"end":37}]},{"name":"aedf","type":8,"text":"// React: ...and Button told me this! I guess I'm done.\n{\n  type: 'button',\n  props: {\n    className: 'button button-blue',\n    children: {\n      type: 'b',\n      props: {\n        children: 'OK!'\n      }\n    }\n  }\n}","markups":[{"type":2,"start":0,"end":55}]},{"name":"7aaa","type":1,"text":"At the end of this process React knows the result DOM tree, and a renderer like ReactDOM or React Native applies the minimal set of changes necessary to update the actual DOM nodes.","markups":[{"type":2,"start":80,"end":88},{"type":2,"start":92,"end":104}]},{"name":"ac5c","type":1,"text":"This gradual refining process is also the reason React apps are easy to optimize. If some parts of your component tree become too large for React to visit efficiently, you can tell it to skip this “refining” and diffing certain parts of the tree if the relevant props have not changed. It is very fast to calculate whether the props have changed if they are immutable, so React and immutability work great together, and can provide great optimizations with the minimal effort.","markups":[{"type":3,"start":187,"end":284,"href":"https://facebook.github.io/react/docs/advanced-performance.html","title":"","rel":"","anchorType":0}]},{"name":"b002","type":1,"text":"You might have noticed that I have talked a lot about components and elements, and not so much about the instances. The truth is, instances have much less importance in React than in most object oriented UI frameworks.","markups":[]},{"name":"491f","type":1,"text":"Only components declared as classes have instances, and you never create them directly: React does that for you. While there are mechanisms for a parent component instance to access a child component instance, they are only used for imperative actions (such as setting focus on a field), and should generally be avoided.","markups":[]},{"name":"090c","type":1,"text":"React will take care of creating an instance for every class component, so that you can write components in an object oriented way with methods and local state, but other than that, instances are not very important in the React’s programming model, and are managed by React itself.","markups":[]},{"name":"5b08","type":3,"text":"Recap","markups":[]},{"name":"58e4","type":1,"text":"An element is a plain object describing what you want to appear on the screen in terms of the DOM nodes or other components. Elements can contain other elements in their props.","markups":[{"type":2,"start":0,"end":10}]},{"name":"9de4","type":1,"text":"A component can be two things. It can be a class with a render() method that inherits from React.Component . Or it can be a function. In both cases, it takes props as an input, and returns an element tree as the output.","markups":[{"type":2,"start":2,"end":11},{"type":2,"start":56,"end":65},{"type":2,"start":91,"end":106}]},{"name":"877a","type":1,"text":"When a component receives some props as an input, it is because a parent component returned an element with its type and these props. This is why people say that the props flows one way in React: from parents to children.","markups":[]},{"name":"cca5","type":1,"text":"An instance is what you refer to as this in the component class you write. It is useful for storing local state and reacting to the lifecycle events.","markups":[{"type":1,"start":36,"end":40},{"type":2,"start":3,"end":11}]},{"name":"cb9f","type":1,"text":"Functional components don’t have instances at all. Class components have instances, but you never need to create a component instance directly—React takes care of this.","markups":[]},{"name":"7e49","type":1,"text":"Finally, to create elements, use React.createElement(), JSX, or an element factory helper. I discourage you from writing them as plain objects in the real code—just know that they are plain objects under the hood.","markups":[{"type":2,"start":33,"end":56}]},{"name":"1cd7","type":3,"text":"Further Reading","markups":[]},{"name":"9e48","type":9,"text":"Introducing React Elements","markups":[{"type":3,"start":0,"end":26,"href":"https://facebook.github.io/react/blog/2014/10/14/introducing-react-elements.html","title":"","rel":"","anchorType":0}]},{"name":"80e8","type":9,"text":"Streamlining React Elements","markups":[{"type":3,"start":0,"end":27,"href":"https://facebook.github.io/react/blog/2015/02/24/streamlining-react-elements.html","title":"","rel":"","anchorType":0}]},{"name":"1ce6","type":9,"text":"React (Virtual) DOM Terminology","markups":[{"type":3,"start":0,"end":31,"href":"https://facebook.github.io/react/docs/glossary.html","title":"","rel":"","anchorType":0}]},{"name":"c353","type":3,"text":"Footnotes","markups":[]},{"name":"3f0f","type":6,"text":"* All React elements require an additional $$typeof: Symbol.for(‘react.element’) field on the object for the security reasons. I am omitting it in the examples above. Generally you should either use JSX or React.createElement() so don’t worry about it. I wanted to give you an idea about the raw API, so I wrote the objects inline, but to run this code, you need to add $$typeof to each of them.","markups":[{"type":3,"start":21,"end":125,"href":"https://github.com/facebook/react/pull/4832","title":"","rel":"","anchorType":0}]}],"sections":[{"name":"201d","startIndex":0}]},"postDisplay":{"coverless":true}},"virtuals":{"createdAtRelative":"a month ago","updatedAtRelative":"a month ago","acceptedAtRelative":"","createdAtEnglish":"December 14, 2015","updatedAtEnglish":"December 19, 2015","acceptedAtEnglish":"","firstPublishedAtEnglish":"December 14, 2015","latestPublishedAtEnglish":"December 15, 2015","allowNotes":true,"snippet":"Many people get confused by the difference between components, their instances, and elements in React. Why are there three different terms…","previewImage":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"wordCount":1884,"imageCount":0,"readingTime":7.109433962264151,"subtitle":"Many people get confused by the difference between components, their instances, and elements in React. Why are there three different terms…","usersBySocialRecommends":[],"latestPublishedAtAbbreviated":"Dec 15, 2015","firstPublishedAtAbbreviated":"Dec 14, 2015","emailSnippet":"to refer to something that is painted on screen? ¶\n\nIf you’re new to React, you probably only worked with component classes and instances before. For example, you may declare a Button component by creating a class. When the program is running, you may have several instances of this component on screen, each with its own properties and local state. This is the traditional object oriented UI programming.","recommends":472,"socialRecommends":[],"isBookmarked":false,"tags":[{"slug":"react","name":"React","postCount":1400,"virtuals":{"isFollowing":false,"newTopStoriesCount":0},"metadata":{"followerCount":1809,"postCount":1400,"coverImage":{"id":"1*85mKQA9abkfyUIp1oXENrA.png","originalWidth":793,"originalHeight":293}},"type":"Tag"},{"slug":"javascript","name":"JavaScript","postCount":7539,"virtuals":{"isFollowing":false,"newTopStoriesCount":0},"metadata":{"followerCount":7179,"postCount":7539,"coverImage":{"id":"1*CGSsfY0EeXm5Y1OXJ28miQ.jpeg","originalWidth":2048,"originalHeight":1280}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":9},"coverless":true,"slug":"react-components-elements-and-instances","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"isViewed":false,"uniqueSlug":"react-components-elements-and-instances-90800811f8ca","previewContent":{"bodyModel":{"paragraphs":[{"name":"785d","type":3,"text":"React Components, Elements, and Instances","markups":[],"alignment":1},{"name":"e47d","type":1,"text":"Many people get confused by the difference between components, their instances, and elements in React. Why are there three different terms to refer to something that is painted on screen?","markups":[{"type":1,"start":28,"end":101}],"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://medium.com/@dan_abramov/react-components-elements-and-instances-90800811f8ca","approvedHomeCollectionId":"","newsletterId":"","webCanonicalUrl":"https://medium.com/@dan_abramov/react-components-elements-and-instances-90800811f8ca","mediumUrl":"https://medium.com/@dan_abramov/react-components-elements-and-instances-90800811f8ca","type":"Post","_isPopulated":true},"collaborators":[],"enableTipJar":0,"footerPromo":{"promoId":"read_next_sign_in_tnt","isDismissable":false,"imageId":"1*OlgaspZ00W78xQY-HE9Wsg.png"},"collectionUserRelations":[],"mode":null,"references":{"User":{"a3a8af6addc1":{"userId":"a3a8af6addc1","name":"Dan Abramov","username":"dan_abramov","createdAt":1345044864387,"lastPostCreatedAt":1453684552388,"imageId":"1*4ETgx0WkR3WjYU2eC0p3Ew.jpeg","backgroundImageId":"1*WqkSfqv8cJBVspX36Fb95w.jpeg","bio":"Making hot reloading mainstream. Created React Hot Loader, Redux, React DnD.","twitterScreenName":"dan_abramov","socialStats":{"userId":"a3a8af6addc1","usersFollowedCount":793,"usersFollowedByCount":10553,"type":"SocialStats"},"social":{"userId":"lo_6cccb689271b","targetUserId":"a3a8af6addc1","type":"Social"},"facebookAccountId":"","allowNotes":1,"type":"User"}},"Social":{"a3a8af6addc1":{"userId":"lo_6cccb689271b","targetUserId":"a3a8af6addc1","type":"Social"}},"SocialStats":{"a3a8af6addc1":{"userId":"a3a8af6addc1","usersFollowedCount":793,"usersFollowedByCount":10553,"type":"SocialStats"}}}})
// ]]></script></body></html>